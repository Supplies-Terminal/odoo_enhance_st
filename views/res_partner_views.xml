<?xml version="1.0"?>
<odoo>
    <record id="view_partner_form_inherit_st" model="ir.ui.view">
        <field name="name">res.partner.form.st.inherit</field>
        <field name="model">res.partner</field>
        <field name="inherit_id" ref="base.view_partner_form"/>
        <field name="arch" type="xml">
            <xpath expr="//group[@name='misc']/field[@name='company_id']" position="after">
                <field name="website_ids" widget="many2many_tags"/>
            </xpath>
        </field>
    </record>
    <record id="view_partner_approval_tree" model="ir.ui.view">
        <field name="name">res.partner.approval.tree</field>
        <field name="model">res.partner</field>
        <field name="arch" type="xml">
            <tree string="Partner Approval" editable="top" create="0" delete="0" multi_edit="0">
                <field name="name" readonly="1"/>
                <field name="email" readonly="1"/>
                <field name="first_approval_status" invisible="1"/>
                <field name="approved_user" readonly="1"/>
                <button name="action_approve_user" type="object" string="Approve" class="btn-secondary" attrs="{'invisible':[('first_approval_status','!=',False)]}"/>
                <button name="action_reject_user" type="object" string="Reject" class="btn-secondary" attrs="{'invisible':['|',('first_approval_status','!=',False),('block_user','!=',False)]}"/>
            </tree>
        </field>
    </record>

    <record id="partner_approval" model="ir.actions.act_window">
        <field name="name">Partner Approval</field>
        <field name="res_model">res.partner</field>
        <field name="view_mode">tree</field>
        <field name="view_id" ref="view_partner_approval_tree"/>
    </record>

    <menuitem id="menu_partner_approval" name="Partner Approval" parent="base.menu_users" sequence="5" action="partner_approval"/>
</odoo>
